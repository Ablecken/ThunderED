<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/scripts/confirmation.js"></script>
    
    <style type="text/css">

        .parent_content {
            display: table;
            line-height: 50px;
        }
        .child_content {
            display: table-cell;
            vertical-align: middle;
            text-align: center;
            font-weight: bold;
        }

        .newline {
            display:flex;
            -moz-flex-wrap: wrap;
            -ms-flex-wrap: wrap;
            -o-flex-wrap: wrap;
            -webkit-flex-wrap: wrap;
            flex-wrap: wrap;
            justify-content: left; /* for horizontal aligning of child divs */
            align-items : left; /* for vertical aligning */
        }

        .row-fluid {
            display: flex;
        }

        .flex-content {
            display: flex;
            -ms-align-items: center;
            -o-align-items: center;
            -webkit-align-items: center;
            align-items: center;
        }

        h2 {
            margin-top: 0;
        }
    </style>

    <script>
        function updateConfirmation() {
            $('[data-toggle=confirmation]').confirmation({
                rootSelector: '[data-toggle=confirmation]',
                title: function() {
                    return $(this).attr("confirm-title");
                }
            });
            $('[data-toggle=confirmation]').tooltip({
                title: function() {
                    return $(this).attr("tooltip-title");
                },
                placement: 'bottom'
            });
        }

        $(function() {

            if ({allowAuthedScript}) {
                $("#authed-content").load('{authedListUrl}0', function() { updateConfirmation(); });
            }
            if ({allowAwaitingScript}) {
                $("#awaiting-content").load('{awaitingListUrl}0', function () { updateConfirmation(); });
            }
            if ({allowDumpedScript}) {
                $("#dumped-content").load('{dumpedListUrl}0', function () { updateConfirmation(); });
            }
            if ({allowSpyingScript}) {
                $("#spying-content").load('{spyingListUrl}0', function () { updateConfirmation(); });
            }
        });

        function filterOnChangeAuthed() {
            var value = $('#selectAuthed').val();
            $("#authed-content").load('{authedListUrl}' + value, function() { updateConfirmation(); });
        }

        function filterOnChangeAwaiting() {
            var value = $('#selectAwaiting').val();
            $("#awaiting-content").load('{awaitingListUrl}' + value, function () { updateConfirmation(); });
        }

        function filterOnChangeDumped() {
            var value = $('#selectDumped').val();
            $("#dumped-content").load('{dumpedListUrl}' + value, function () { updateConfirmation(); });
        }

        function filterOnChangeSpying() {
            var value = $('#selectSpying').val();
            $("#spying-content").load('{spyingListUrl}' + value, function () { updateConfirmation(); });
        }

    </script>
</head>

<body>
        
<ul class="nav nav-pills float-right">{loggedInAs}<a href="{LogOutUrl}" style="margin-left:10px; margin-right: 30px;">{LogOut}</a></ul>

<div class="container">
    <h2>{header}</h2>

    <div>
        <a href="{butSearchMailUrl}" class="btn btn-primary{canSearchMail}" role="button" style="margin: 10px; min-width: 200px;">{butSearchMail}</a>
    </div>
    <div class="accordion" id="accordionExample">
        <div class="card{disableAuthed}">
            <div class="card-header" id="headingOne">
                <h4 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        {membersHeader}
                    </button>
                </h4>
            </div>
            <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body">
                    <div class="row-fluid">
                        <span class="fas fa-filter justify-content-center align-self-center" style="margin-right: 25px;"></span>
                        <select id="selectAuthed" class="form-control" style="width: 300px;" onchange="filterOnChangeAuthed()">
                            {authedFilterContent}
                        </select>
                    </div>
                    <div id="authed-content" class="container">
                        Loading...
                    </div>
                </div>
            </div>
        </div>
        <div class="card{disableAwaiting}">
            <div class="card-header" id="headingTwo">
                <h4 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                        {awaitingHeader}
                    </button>
                </h4>
            </div>
            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                <div class="card-body">
                    <div class="row-fluid">
                        <span class="fas fa-filter justify-content-center align-self-center" style="margin-right: 25px;"></span>
                        <select id="selectAwaiting" class="form-control" style="width: 300px;" onchange="filterOnChangeAwaiting()">
                            {awaitingFilterContent}
                        </select>
                    </div>
                    <div class="card-body">
                        <div id="awaiting-content" class="container">
                            Loading...
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header{disableDumped}" id="heading3">
                <h4 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapse3" aria-expanded="true" aria-controls="collapse3">
                        {dumpHeader}
                    </button>
                </h4>
            </div>
            <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
                <div class="card-body">
                    <div class="row-fluid">
                        <span class="fas fa-filter justify-content-center align-self-center" style="margin-right: 25px;"></span>
                        <select id="selectDumped" class="form-control" style="width: 300px;" onchange="filterOnChangeDumped()">
                            {dumpedFilterContent}
                        </select>
                    </div>
                    <div class="card-body">
                        <div id="dumped-content" class="container">
                            Loading...
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header{disableSpying}" id="heading4">
                <h4 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapse4" aria-expanded="true" aria-controls="collapse4">
                        {spyingHeader}
                    </button>
                </h4>
            </div>
            <div id="collapse4" class="collapse" aria-labelledby="heading4" data-parent="#accordionExample">
                <div class="card-body">
                    <div class="row-fluid">
                        <span class="fas fa-filter justify-content-center align-self-center" style="margin-right: 25px;"></span>
                        <select id="selectSpying" class="form-control" style="width: 300px;" onchange="filterOnChangeSpying()">
                            {spyingFilterContent}
                        </select>
                    </div>
                    <div class="card-body">
                        <div id="spying-content" class="container">
                            Loading...
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>
</body>
</html>
